services:
  - name: tradesense-backend
    type: web
    env: python
    region: frankfurt  # or oregon, singapore based on your preference
    plan: free
    buildCommand: |
      echo "Build starting in directory: $(pwd)"
      echo "Contents of current directory:"
      ls -la
      echo "Looking for requirements.txt in current directory:"
      find . -name "requirements.txt" -type f
      echo "Attempting to install dependencies:"
      pip install -r requirements.txt
    startCommand: gunicorn --bind 0.0.0.0:$PORT --workers 1 --threads 1 wsgi:application
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.13